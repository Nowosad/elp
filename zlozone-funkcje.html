<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>10 Złożone funkcje | Elementarz programisty</title>
  <meta name="description" content="10 Złożone funkcje | Elementarz programisty" />
  <meta name="generator" content="bookdown 0.17 and GitBook 2.6.7" />

  <meta property="og:title" content="10 Złożone funkcje | Elementarz programisty" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://nowosad.github.io/elp" />
  <meta property="og:image" content="https://nowosad.github.io/elpcover/cover.png" />
  
  <meta name="github-repo" content="nowosad/elp" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="10 Złożone funkcje | Elementarz programisty" />
  
  
  <meta name="twitter:image" content="https://nowosad.github.io/elpcover/cover.png" />

<meta name="author" content="Jakub Nowosad" />


<meta name="date" content="2020-03-02" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="io.html"/>
<link rel="next" href="analiza-kodu.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; position: absolute; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; }
pre.numberSource a.sourceLine:empty
  { position: absolute; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: absolute; left: -5em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style/style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Elementarz programisty</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>O książce</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#wymagania-wstępne"><i class="fa fa-check"></i>Wymagania wstępne</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#styl-książki"><i class="fa fa-check"></i>Styl książki</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#podziękowania"><i class="fa fa-check"></i>Podziękowania</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="wprowadzenie.html"><a href="wprowadzenie.html"><i class="fa fa-check"></i><b>1</b> Wprowadzenie</a><ul>
<li class="chapter" data-level="1.1" data-path="wprowadzenie.html"><a href="wprowadzenie.html#mity-programistyczne"><i class="fa fa-check"></i><b>1.1</b> Mity programistyczne</a></li>
<li class="chapter" data-level="1.2" data-path="wprowadzenie.html"><a href="wprowadzenie.html#jezyki-programowania"><i class="fa fa-check"></i><b>1.2</b> Języki programowania</a></li>
<li class="chapter" data-level="1.3" data-path="wprowadzenie.html"><a href="wprowadzenie.html#r"><i class="fa fa-check"></i><b>1.3</b> R</a></li>
<li class="chapter" data-level="1.4" data-path="wprowadzenie.html"><a href="wprowadzenie.html#zadania"><i class="fa fa-check"></i><b>1.4</b> Zadania</a></li>
</ul></li>
<li class="part"><span><b>I Podstawy</b></span></li>
<li class="chapter" data-level="2" data-path="ergosum.html"><a href="ergosum.html"><i class="fa fa-check"></i><b>2</b> Start R</a><ul>
<li class="chapter" data-level="2.1" data-path="ergosum.html"><a href="ergosum.html#wyrażenia"><i class="fa fa-check"></i><b>2.1</b> Wyrażenia</a></li>
<li class="chapter" data-level="2.2" data-path="ergosum.html"><a href="ergosum.html#obiekty"><i class="fa fa-check"></i><b>2.2</b> Obiekty</a><ul>
<li class="chapter" data-level="2.2.1" data-path="ergosum.html"><a href="ergosum.html#operator-przypisania"><i class="fa fa-check"></i><b>2.2.1</b> Operator przypisania</a></li>
<li class="chapter" data-level="2.2.2" data-path="ergosum.html"><a href="ergosum.html#dzialania-na-obiektach"><i class="fa fa-check"></i><b>2.2.2</b> Działania na obiektach</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="ergosum.html"><a href="ergosum.html#ide"><i class="fa fa-check"></i><b>2.3</b> IDE</a></li>
<li class="chapter" data-level="2.4" data-path="ergosum.html"><a href="ergosum.html#styl"><i class="fa fa-check"></i><b>2.4</b> Styl</a><ul>
<li class="chapter" data-level="2.4.1" data-path="ergosum.html"><a href="ergosum.html#nazwy-obiektow"><i class="fa fa-check"></i><b>2.4.1</b> Nazwy obiektów</a></li>
<li class="chapter" data-level="2.4.2" data-path="ergosum.html"><a href="ergosum.html#odstępy"><i class="fa fa-check"></i><b>2.4.2</b> Odstępy</a></li>
<li class="chapter" data-level="2.4.3" data-path="ergosum.html"><a href="ergosum.html#komentarze"><i class="fa fa-check"></i><b>2.4.3</b> Komentarze</a></li>
<li class="chapter" data-level="2.4.4" data-path="ergosum.html"><a href="ergosum.html#nazwy-plików"><i class="fa fa-check"></i><b>2.4.4</b> Nazwy plików</a></li>
<li class="chapter" data-level="2.4.5" data-path="ergosum.html"><a href="ergosum.html#daty"><i class="fa fa-check"></i><b>2.4.5</b> Daty</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="ergosum.html"><a href="ergosum.html#resources"><i class="fa fa-check"></i><b>2.5</b> Dodatkowe materiały</a></li>
<li class="chapter" data-level="2.6" data-path="ergosum.html"><a href="ergosum.html#zadania-1"><i class="fa fa-check"></i><b>2.6</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="funkcje.html"><a href="funkcje.html"><i class="fa fa-check"></i><b>3</b> Funkcje</a><ul>
<li class="chapter" data-level="3.1" data-path="funkcje.html"><a href="funkcje.html#struktura-funkcji"><i class="fa fa-check"></i><b>3.1</b> Struktura funkcji</a></li>
<li class="chapter" data-level="3.2" data-path="funkcje.html"><a href="funkcje.html#wbudowane-funkcje"><i class="fa fa-check"></i><b>3.2</b> Wbudowane funkcje</a></li>
<li class="chapter" data-level="3.3" data-path="funkcje.html"><a href="funkcje.html#kolejnosc-funkcji"><i class="fa fa-check"></i><b>3.3</b> Kolejność wykonywania funkcji</a></li>
<li class="chapter" data-level="3.4" data-path="funkcje.html"><a href="funkcje.html#dokumentacja-funkcji"><i class="fa fa-check"></i><b>3.4</b> Dokumentacja funkcji</a></li>
<li class="chapter" data-level="3.5" data-path="funkcje.html"><a href="funkcje.html#pakiety"><i class="fa fa-check"></i><b>3.5</b> Pakiety</a></li>
<li class="chapter" data-level="3.6" data-path="funkcje.html"><a href="funkcje.html#algorytmy"><i class="fa fa-check"></i><b>3.6</b> Algorytmy</a></li>
<li class="chapter" data-level="3.7" data-path="funkcje.html"><a href="funkcje.html#tworzenie-skryptow"><i class="fa fa-check"></i><b>3.7</b> Tworzenie skryptów</a></li>
<li class="chapter" data-level="3.8" data-path="funkcje.html"><a href="funkcje.html#budowanie-funkcji"><i class="fa fa-check"></i><b>3.8</b> Budowanie funkcji</a></li>
<li class="chapter" data-level="3.9" data-path="funkcje.html"><a href="funkcje.html#komunikaty"><i class="fa fa-check"></i><b>3.9</b> Komunikaty</a></li>
<li class="chapter" data-level="3.10" data-path="funkcje.html"><a href="funkcje.html#zadania-2"><i class="fa fa-check"></i><b>3.10</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="warunki.html"><a href="warunki.html"><i class="fa fa-check"></i><b>4</b> Wyrażenia warunkowe</a><ul>
<li class="chapter" data-level="4.1" data-path="warunki.html"><a href="warunki.html#warunki-1"><i class="fa fa-check"></i><b>4.1</b> Warunki</a></li>
<li class="chapter" data-level="4.2" data-path="warunki.html"><a href="warunki.html#warunki-zagnieżdżone"><i class="fa fa-check"></i><b>4.2</b> Warunki zagnieżdżone</a></li>
<li class="chapter" data-level="4.3" data-path="warunki.html"><a href="warunki.html#operatory-porównania"><i class="fa fa-check"></i><b>4.3</b> Operatory porównania</a></li>
<li class="chapter" data-level="4.4" data-path="warunki.html"><a href="warunki.html#wwwf"><i class="fa fa-check"></i><b>4.4</b> Wyrażenia warunkowe w funkcjach</a></li>
<li class="chapter" data-level="4.5" data-path="warunki.html"><a href="warunki.html#zadania-3"><i class="fa fa-check"></i><b>4.5</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="proste-obiekty.html"><a href="proste-obiekty.html"><i class="fa fa-check"></i><b>5</b> Proste obiekty</a><ul>
<li class="chapter" data-level="5.1" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wektory"><i class="fa fa-check"></i><b>5.1</b> Wektory</a></li>
<li class="chapter" data-level="5.2" data-path="proste-obiekty.html"><a href="proste-obiekty.html#właściwości-wektorów"><i class="fa fa-check"></i><b>5.2</b> Właściwości wektorów</a></li>
<li class="chapter" data-level="5.3" data-path="proste-obiekty.html"><a href="proste-obiekty.html#pf-vector"><i class="fa fa-check"></i><b>5.3</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="5.4" data-path="proste-obiekty.html"><a href="proste-obiekty.html#dzialania-na-wektorach"><i class="fa fa-check"></i><b>5.4</b> Działania na wektorach</a></li>
<li class="chapter" data-level="5.5" data-path="proste-obiekty.html"><a href="proste-obiekty.html#na"><i class="fa fa-check"></i><b>5.5</b> Brakujące wartości</a></li>
<li class="chapter" data-level="5.6" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wydzielanie"><i class="fa fa-check"></i><b>5.6</b> Wydzielanie</a></li>
<li class="chapter" data-level="5.7" data-path="proste-obiekty.html"><a href="proste-obiekty.html#wip-vector"><i class="fa fa-check"></i><b>5.7</b> Wydzielanie i przypisanie</a></li>
<li class="chapter" data-level="5.8" data-path="proste-obiekty.html"><a href="proste-obiekty.html#mo-vector"><i class="fa fa-check"></i><b>5.8</b> Modyfikowanie obiektów</a></li>
<li class="chapter" data-level="5.9" data-path="proste-obiekty.html"><a href="proste-obiekty.html#lpto-vector"><i class="fa fa-check"></i><b>5.9</b> Łączenie podstawowych typów obiektów</a></li>
<li class="chapter" data-level="5.10" data-path="proste-obiekty.html"><a href="proste-obiekty.html#zmiana-typów-obiektów"><i class="fa fa-check"></i><b>5.10</b> Zmiana typów obiektów</a></li>
<li class="chapter" data-level="5.11" data-path="proste-obiekty.html"><a href="proste-obiekty.html#fac"><i class="fa fa-check"></i><b>5.11</b> Wektory czynnikowe</a></li>
<li class="chapter" data-level="5.12" data-path="proste-obiekty.html"><a href="proste-obiekty.html#ate"><i class="fa fa-check"></i><b>5.12</b> Wektory dat</a></li>
<li class="chapter" data-level="5.13" data-path="proste-obiekty.html"><a href="proste-obiekty.html#ime"><i class="fa fa-check"></i><b>5.13</b> Wektory czasu</a></li>
<li class="chapter" data-level="5.14" data-path="proste-obiekty.html"><a href="proste-obiekty.html#zadania-4"><i class="fa fa-check"></i><b>5.14</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="tekst.html"><a href="tekst.html"><i class="fa fa-check"></i><b>6</b> Tekst</a><ul>
<li class="chapter" data-level="6.1" data-path="tekst.html"><a href="tekst.html#reprezentacja-tekstu"><i class="fa fa-check"></i><b>6.1</b> Reprezentacja tekstu</a></li>
<li class="chapter" data-level="6.2" data-path="tekst.html"><a href="tekst.html#podstawowe-operacje-na-tekście"><i class="fa fa-check"></i><b>6.2</b> Podstawowe operacje na tekście</a></li>
<li class="chapter" data-level="6.3" data-path="tekst.html"><a href="tekst.html#wt"><i class="fa fa-check"></i><b>6.3</b> Wydzielanie tekstu</a></li>
<li class="chapter" data-level="6.4" data-path="tekst.html"><a href="tekst.html#wyrażenia-regularne"><i class="fa fa-check"></i><b>6.4</b> Wyrażenia regularne</a></li>
<li class="chapter" data-level="6.5" data-path="tekst.html"><a href="tekst.html#wtregex"><i class="fa fa-check"></i><b>6.5</b> Wydzielanie tekstu - regex</a></li>
<li class="chapter" data-level="6.6" data-path="tekst.html"><a href="tekst.html#zamiana-tekstu---regex"><i class="fa fa-check"></i><b>6.6</b> Zamiana tekstu - regex</a></li>
<li class="chapter" data-level="6.7" data-path="tekst.html"><a href="tekst.html#wyszukiwanie-plików"><i class="fa fa-check"></i><b>6.7</b> Wyszukiwanie plików</a></li>
<li class="chapter" data-level="6.8" data-path="tekst.html"><a href="tekst.html#zadania-5"><i class="fa fa-check"></i><b>6.8</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html"><i class="fa fa-check"></i><b>7</b> Złożone obiekty</a><ul>
<li class="chapter" data-level="7.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#macierze"><i class="fa fa-check"></i><b>7.1</b> Macierze</a><ul>
<li class="chapter" data-level="7.1.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie"><i class="fa fa-check"></i><b>7.1.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.1.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje"><i class="fa fa-check"></i><b>7.1.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.1.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-1"><i class="fa fa-check"></i><b>7.1.3</b> Wydzielanie</a></li>
<li class="chapter" data-level="7.1.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#łączenie"><i class="fa fa-check"></i><b>7.1.4</b> Łączenie</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#df"><i class="fa fa-check"></i><b>7.2</b> Ramki danych</a><ul>
<li class="chapter" data-level="7.2.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie-1"><i class="fa fa-check"></i><b>7.2.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.2.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje-1"><i class="fa fa-check"></i><b>7.2.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.2.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-df"><i class="fa fa-check"></i><b>7.2.3</b> Wydzielanie</a></li>
<li class="chapter" data-level="7.2.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#łączenie-1"><i class="fa fa-check"></i><b>7.2.4</b> Łączenie</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#listy"><i class="fa fa-check"></i><b>7.3</b> Listy</a><ul>
<li class="chapter" data-level="7.3.1" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#tworzenie-2"><i class="fa fa-check"></i><b>7.3.1</b> Tworzenie</a></li>
<li class="chapter" data-level="7.3.2" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#podstawowe-funkcje-2"><i class="fa fa-check"></i><b>7.3.2</b> Podstawowe funkcje</a></li>
<li class="chapter" data-level="7.3.3" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#łączenie-2"><i class="fa fa-check"></i><b>7.3.3</b> Łączenie</a></li>
<li class="chapter" data-level="7.3.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#wydzielanie-list"><i class="fa fa-check"></i><b>7.3.4</b> Wydzielanie</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#zmiany-klas"><i class="fa fa-check"></i><b>7.4</b> Zmiany klas</a></li>
<li class="chapter" data-level="7.5" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#inne-klasy"><i class="fa fa-check"></i><b>7.5</b> Inne klasy obiektów</a></li>
<li class="chapter" data-level="7.6" data-path="zlozone-obiekty.html"><a href="zlozone-obiekty.html#zadania-6"><i class="fa fa-check"></i><b>7.6</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="petle.html"><a href="petle.html"><i class="fa fa-check"></i><b>8</b> Powtarzanie</a><ul>
<li class="chapter" data-level="8.1" data-path="petle.html"><a href="petle.html#petla-for"><i class="fa fa-check"></i><b>8.1</b> Pętla for</a><ul>
<li class="chapter" data-level="8.1.1" data-path="petle.html"><a href="petle.html#składnia"><i class="fa fa-check"></i><b>8.1.1</b> Składnia</a></li>
<li class="chapter" data-level="8.1.2" data-path="petle.html"><a href="petle.html#for-example"><i class="fa fa-check"></i><b>8.1.2</b> Przykład działania</a></li>
<li class="chapter" data-level="8.1.3" data-path="petle.html"><a href="petle.html#zastosowanie-w-funkcjach"><i class="fa fa-check"></i><b>8.1.3</b> Zastosowanie w funkcjach</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="petle.html"><a href="petle.html#petla-while"><i class="fa fa-check"></i><b>8.2</b> Pętla while</a></li>
<li class="chapter" data-level="8.3" data-path="petle.html"><a href="petle.html#prog-fun"><i class="fa fa-check"></i><b>8.3</b> Programowanie funkcyjne</a></li>
<li class="chapter" data-level="8.4" data-path="petle.html"><a href="petle.html#zadania-7"><i class="fa fa-check"></i><b>8.4</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="io.html"><a href="io.html"><i class="fa fa-check"></i><b>9</b> Wczytywanie i zapisywanie plików</a><ul>
<li class="chapter" data-level="9.1" data-path="io.html"><a href="io.html#folder-roboczy"><i class="fa fa-check"></i><b>9.1</b> Folder roboczy</a></li>
<li class="chapter" data-level="9.2" data-path="io.html"><a href="io.html#działania-na-plikach-i-folderach"><i class="fa fa-check"></i><b>9.2</b> Działania na plikach i folderach</a></li>
<li class="chapter" data-level="9.3" data-path="io.html"><a href="io.html#dane-internetowe"><i class="fa fa-check"></i><b>9.3</b> Dane internetowe</a></li>
<li class="chapter" data-level="9.4" data-path="io.html"><a href="io.html#wczytywanie-plików-tekstowych"><i class="fa fa-check"></i><b>9.4</b> Wczytywanie plików tekstowych</a></li>
<li class="chapter" data-level="9.5" data-path="io.html"><a href="io.html#zapisywanie-plików-tekstowych"><i class="fa fa-check"></i><b>9.5</b> Zapisywanie plików tekstowych</a></li>
<li class="chapter" data-level="9.6" data-path="io.html"><a href="io.html#formaty-r"><i class="fa fa-check"></i><b>9.6</b> Formaty R</a></li>
<li class="chapter" data-level="9.7" data-path="io.html"><a href="io.html#arkusze-kalkulacyjne"><i class="fa fa-check"></i><b>9.7</b> Arkusze kalkulacyjne</a></li>
<li class="chapter" data-level="9.8" data-path="io.html"><a href="io.html#inne-formaty"><i class="fa fa-check"></i><b>9.8</b> Inne formaty</a></li>
<li class="chapter" data-level="9.9" data-path="io.html"><a href="io.html#zadania-8"><i class="fa fa-check"></i><b>9.9</b> Zadania</a></li>
</ul></li>
<li class="part"><span><b>II Narzędzia</b></span></li>
<li class="chapter" data-level="10" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html"><i class="fa fa-check"></i><b>10</b> Złożone funkcje</a><ul>
<li class="chapter" data-level="10.1" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#api"><i class="fa fa-check"></i><b>10.1</b> API</a></li>
<li class="chapter" data-level="10.2" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#obsluga-komunikatow"><i class="fa fa-check"></i><b>10.2</b> Obsługa komunikatów</a></li>
<li class="chapter" data-level="10.3" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#oop"><i class="fa fa-check"></i><b>10.3</b> Programowanie obiektowe</a><ul>
<li class="chapter" data-level="10.3.1" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#klasy"><i class="fa fa-check"></i><b>10.3.1</b> Klasy</a></li>
<li class="chapter" data-level="10.3.2" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#metody"><i class="fa fa-check"></i><b>10.3.2</b> Metody</a></li>
<li class="chapter" data-level="10.3.3" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#konstruktory"><i class="fa fa-check"></i><b>10.3.3</b> Konstruktory</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="zlozone-funkcje.html"><a href="zlozone-funkcje.html#zadania-9"><i class="fa fa-check"></i><b>10.4</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="analiza-kodu.html"><a href="analiza-kodu.html"><i class="fa fa-check"></i><b>11</b> Analiza kodu</a><ul>
<li class="chapter" data-level="11.1" data-path="analiza-kodu.html"><a href="analiza-kodu.html#testy-jednostkowe"><i class="fa fa-check"></i><b>11.1</b> Testy jednostkowe</a></li>
<li class="chapter" data-level="11.2" data-path="analiza-kodu.html"><a href="analiza-kodu.html#profiling"><i class="fa fa-check"></i><b>11.2</b> Profiling</a></li>
<li class="chapter" data-level="11.3" data-path="analiza-kodu.html"><a href="analiza-kodu.html#benchmarking"><i class="fa fa-check"></i><b>11.3</b> Benchmarking</a></li>
<li class="chapter" data-level="11.4" data-path="analiza-kodu.html"><a href="analiza-kodu.html#zadania-10"><i class="fa fa-check"></i><b>11.4</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html"><i class="fa fa-check"></i><b>12</b> Kontrola wersji</a><ul>
<li class="chapter" data-level="12.1" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#git"><i class="fa fa-check"></i><b>12.1</b> Git</a><ul>
<li class="chapter" data-level="12.1.1" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#konfiguracja-systemu-git"><i class="fa fa-check"></i><b>12.1.1</b> Konfiguracja systemu Git</a></li>
<li class="chapter" data-level="12.1.2" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#repozytorium"><i class="fa fa-check"></i><b>12.1.2</b> Repozytorium</a></li>
<li class="chapter" data-level="12.1.3" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#dodawanie-zmian"><i class="fa fa-check"></i><b>12.1.3</b> Dodawanie zmian</a></li>
<li class="chapter" data-level="12.1.4" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#sprawdzanie-zmian"><i class="fa fa-check"></i><b>12.1.4</b> Sprawdzanie zmian</a></li>
<li class="chapter" data-level="12.1.5" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#zatwierdzanie-zmian"><i class="fa fa-check"></i><b>12.1.5</b> Zatwierdzanie zmian</a></li>
<li class="chapter" data-level="12.1.6" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#branches"><i class="fa fa-check"></i><b>12.1.6</b> Rozgałęzienia</a></li>
<li class="chapter" data-level="12.1.7" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#repozytorium-zdalne"><i class="fa fa-check"></i><b>12.1.7</b> Repozytorium zdalne</a></li>
<li class="chapter" data-level="12.1.8" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#wysylanie-zmian"><i class="fa fa-check"></i><b>12.1.8</b> Wysyłanie zmian</a></li>
<li class="chapter" data-level="12.1.9" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#aktualizowanie-zmian"><i class="fa fa-check"></i><b>12.1.9</b> Aktualizowanie zmian</a></li>
</ul></li>
<li class="chapter" data-level="12.2" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#github"><i class="fa fa-check"></i><b>12.2</b> GitHub</a><ul>
<li class="chapter" data-level="12.2.1" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#tworzenie-zdanego-repo"><i class="fa fa-check"></i><b>12.2.1</b> Tworzenie zdanego repo</a></li>
<li class="chapter" data-level="12.2.2" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#repozytorium-github"><i class="fa fa-check"></i><b>12.2.2</b> Repozytorium GitHub</a></li>
<li class="chapter" data-level="12.2.3" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#dodatkowe-możliwości-github"><i class="fa fa-check"></i><b>12.2.3</b> Dodatkowe możliwości GitHub</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#rstudio-git"><i class="fa fa-check"></i><b>12.3</b> Kontrola wersji w RStudio</a></li>
<li class="chapter" data-level="12.4" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#sposoby-pracy-z-systemem-git"><i class="fa fa-check"></i><b>12.4</b> Sposoby pracy z systemem Git</a><ul>
<li class="chapter" data-level="12.4.1" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#nowy-projekt"><i class="fa fa-check"></i><b>12.4.1</b> Nowy projekt</a></li>
<li class="chapter" data-level="12.4.2" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#istniejacy-projekt"><i class="fa fa-check"></i><b>12.4.2</b> Istniejący projekt</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#problemy-z-kontrolą-wersji"><i class="fa fa-check"></i><b>12.5</b> Problemy z kontrolą wersji</a></li>
<li class="chapter" data-level="12.6" data-path="kontrola-wersji.html"><a href="kontrola-wersji.html#zadania-11"><i class="fa fa-check"></i><b>12.6</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html"><i class="fa fa-check"></i><b>13</b> Pakiety</a><ul>
<li class="chapter" data-level="13.1" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#nazwa-pakietu"><i class="fa fa-check"></i><b>13.1</b> Nazwa pakietu</a></li>
<li class="chapter" data-level="13.2" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#tworzenie-szkieletu-pakietu"><i class="fa fa-check"></i><b>13.2</b> Tworzenie szkieletu pakietu</a></li>
<li class="chapter" data-level="13.3" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#opis-pakietu"><i class="fa fa-check"></i><b>13.3</b> Opis pakietu</a></li>
<li class="chapter" data-level="13.4" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#rozwijanie-pakietu"><i class="fa fa-check"></i><b>13.4</b> Rozwijanie pakietu</a></li>
<li class="chapter" data-level="13.5" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#tworzenie-i-dokumentacja-funkcji"><i class="fa fa-check"></i><b>13.5</b> Tworzenie i dokumentacja funkcji</a></li>
<li class="chapter" data-level="13.6" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#zależności"><i class="fa fa-check"></i><b>13.6</b> Zależności</a></li>
<li class="chapter" data-level="13.7" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#sprawdzanie-pakietu"><i class="fa fa-check"></i><b>13.7</b> Sprawdzanie pakietu</a></li>
<li class="chapter" data-level="13.8" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#instalowanie-pakietu"><i class="fa fa-check"></i><b>13.8</b> Instalowanie pakietu</a></li>
<li class="chapter" data-level="13.9" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#dokumentacja-pakietu"><i class="fa fa-check"></i><b>13.9</b> Dokumentacja pakietu</a></li>
<li class="chapter" data-level="13.10" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#wbudowane-testy"><i class="fa fa-check"></i><b>13.10</b> Wbudowane testy</a></li>
<li class="chapter" data-level="13.11" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#publikowanie-pakietów"><i class="fa fa-check"></i><b>13.11</b> Publikowanie pakietów</a></li>
<li class="chapter" data-level="13.12" data-path="tworzenie-pakietow.html"><a href="tworzenie-pakietow.html#zadania-12"><i class="fa fa-check"></i><b>13.12</b> Zadania</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="podsumowanie.html"><a href="podsumowanie.html"><i class="fa fa-check"></i><b>14</b> Podsumowanie</a><ul>
<li class="chapter" data-level="14.1" data-path="podsumowanie.html"><a href="podsumowanie.html#grafika"><i class="fa fa-check"></i><b>14.1</b> Grafika</a></li>
<li class="chapter" data-level="14.2" data-path="podsumowanie.html"><a href="podsumowanie.html#analiza-danych"><i class="fa fa-check"></i><b>14.2</b> Analiza danych</a></li>
<li class="chapter" data-level="14.3" data-path="podsumowanie.html"><a href="podsumowanie.html#inne-zastosowania"><i class="fa fa-check"></i><b>14.3</b> Inne zastosowania</a></li>
<li class="chapter" data-level="14.4" data-path="podsumowanie.html"><a href="podsumowanie.html#programowanie-w-r"><i class="fa fa-check"></i><b>14.4</b> Programowanie w R</a></li>
<li class="chapter" data-level="14.5" data-path="podsumowanie.html"><a href="podsumowanie.html#co-dalej"><i class="fa fa-check"></i><b>14.5</b> Co dalej?</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="bibliografia.html"><a href="bibliografia.html"><i class="fa fa-check"></i>Bibliografia</a></li>
<li class="divider"></li>
<li><a href="https://nowosad.github.io/">Jakub Nowosad</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Elementarz programisty</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="zlozone-funkcje" class="section level1">
<h1><span class="header-section-number">10</span> Złożone funkcje</h1>
<p>Funkcje są podstawą działania w językach programowania.
Rozdział <a href="funkcje.html#funkcje">3</a> wprowadził do podstawowych kwestii związanych z funkcjami - jak się używa wbudowanych funkcji oraz jak się tworzy proste nowe funkcje.
Tworzenie bardziej złożonych funkcji czy też zbiorów funkcji wymaga przemyślenia tego nie tylko jak się będą one nazywać, ale też tego jak mogą one zostać użyte przez inne osoby.
W tym rozdziale zostanie podanych kilka porad w jaki sposób budować funkcje przyjazne innym użytkownikom oraz w jaki sposób tworzyć odpowiednie komunikaty błędów, ostrzeżeń czy wiadomości.
Dodatkowo, nastąpi także wprowadzenie do kolejnego paradygmatu programowania - programowania obiektowego.</p>
<!-- solve a single problem -->
<!-- 07-oo https://blog.rstudio.com/2019/02/06/rstudio-conf-2019-workshops/ -->
<!-- https://arxiv.org/pdf/1409.3531.pdf -->
<div id="api" class="section level2">
<h2><span class="header-section-number">10.1</span> API</h2>
<p>Interfejs programistyczny aplikacji (ang. <em>application programming interface</em>, API) to zbiór sposobów komunikacji pomiędzy różnymi komponentami oprogramowania.
Najszerzej mówiąc API określa w jaki sposób następuje interakcja z kodem i my w tej sekcji skupimy się na tej definicji.
Warto jednak pamiętać, że często osoby, które używają tego skrótu mają tak na prawdę na myśli RESTful API, czyli API które powala na komunikację pomiędzy komputerami poprzez protokół HTTP.</p>
<p>Dobrze zaprojektowane API uławia zarówno rozwijanie oprogramowania, jak i jego używanie.
Podstawowe elementy przemyślanego API w R obejmują nazwy funkcji, ich argumenty, oraz tzw. stabilność typu (ang. <em>type stability</em>).</p>
<p>Funkcje wewnątrz pojedynczego pakietu powinny być nazywane konsekwentnie używając tylko jednej konwencji nazywania (sekcja <a href="ergosum.html#nazwy-obiektow">2.4.1</a>).
Sama nazwa powinna w zwięzły sposób przekazywać jakie jest działanie funkcji.
Dodatkową możliwością jest używanie w jednym pakiecie funkcji rozpoczynających się od takiego samego prefiksu.
Przykładowo, większość nazw funkcji w pakiecie <strong>landscapemetrics</strong> rozpoczyna się od liter <code>lsm_</code>, np. <code>lsm_l_ent()</code> <span class="citation">(Hesselbarth et al. <a href="#ref-R-landscapemetrics">2019</a>)</span>.</p>
<p>Podobnie należy stosować tylko jedną konwencję przy nazywaniu argumentów funkcji, a nazwy argumentów powinny być informacyjne, ale jednocześnie zwięzłe.
W przypadku, gdy taki sam rodzaj danych wejściowych jest oczekiwany w różnych funkcjach, koniecznie jest aby zawsze ten argument był tak samo nazwany.
Podobnie należy zadbać o spójną kolejność podobnych argumentów w funkcjach jednego pakietu.</p>
<p>Stabilność typu oznacza, że używając jednej klasy danych wejściowych funkcja zawsze zwróci obiekt jednej klasy.
Poniższy przykład użycia funkcji <code>grep()</code> pokazuje, że nie ma ona stabilności typu.
Zalecane jest unikanie tworzenia funkcji bez stabilności typu.</p>
<div class="sourceCode" id="cb278"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb278-1" data-line-number="1">tekst =<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;kołdra&quot;</span>, <span class="st">&quot;kordła&quot;</span>, <span class="st">&quot;pościel&quot;</span>)</a>
<a class="sourceLine" id="cb278-2" data-line-number="2"><span class="kw">grep</span>(<span class="st">&quot;^[k].&quot;</span>, <span class="dt">x =</span> tekst)</a>
<a class="sourceLine" id="cb278-3" data-line-number="3"><span class="co">#&gt; [1] 1 2</span></a>
<a class="sourceLine" id="cb278-4" data-line-number="4"><span class="kw">grep</span>(<span class="st">&quot;^[k].&quot;</span>, <span class="dt">x =</span> tekst, <span class="dt">value =</span> <span class="ot">TRUE</span>)</a>
<a class="sourceLine" id="cb278-5" data-line-number="5"><span class="co">#&gt; [1] &quot;kołdra&quot; &quot;kordła&quot;</span></a></code></pre></div>
<p>Dodatkowym elementem API może być określenie domyślnych parametrów funkcji.
Poniższa funkcja, <code>potegowanie()</code> ma na celu podnoszenie wartości wejściowego wektora (<code>x</code>) do wybranej potęgi (<code>w</code>).
Domyślamy się jednak, że większość użytkowników jest zainteresowana używaniem tej funkcji do podnoszenia wartości do drugiej potęgi i dlatego też ustalamy, że domyślnie argument <code>w</code> przyjmuje wartość 2.</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb279-1" data-line-number="1">potegowanie =<span class="st"> </span><span class="cf">function</span>(x, <span class="dt">w =</span> <span class="dv">2</span>){</a>
<a class="sourceLine" id="cb279-2" data-line-number="2">  x <span class="op">^</span><span class="st"> </span>w</a>
<a class="sourceLine" id="cb279-3" data-line-number="3">}</a></code></pre></div>
<p>W tej sytuacji, gdy użytkownik poda tylko jeden argument do funkcji <code>potegowanie()</code> to podany wektor zostanie podniesiony do kwadratu.</p>
<div class="sourceCode" id="cb280"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb280-1" data-line-number="1"><span class="kw">potegowanie</span>(<span class="dv">2</span>)</a>
<a class="sourceLine" id="cb280-2" data-line-number="2"><span class="co">#&gt; [1] 4</span></a></code></pre></div>
<p>Będzie to identyczne z działaniem funkcji, gdy użytkownik ręcznie zdefiniuje drugi argument jako dwa (<code>w = 2</code>).</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb281-1" data-line-number="1"><span class="kw">potegowanie</span>(<span class="dv">2</span>, <span class="dt">w =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb281-2" data-line-number="2"><span class="co">#&gt; [1] 4</span></a></code></pre></div>
<p>W sytuacji, gdy użytkownika interesuje inna wartość <code>w</code> niż domyślna, może on ją zmodyfikować i otrzyma odpowiedni wynik.</p>
<div class="sourceCode" id="cb282"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb282-1" data-line-number="1"><span class="kw">potegowanie</span>(<span class="dv">2</span>, <span class="dt">w =</span> <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb282-2" data-line-number="2"><span class="co">#&gt; [1] 8</span></a></code></pre></div>
<!-- elipsis -->
<!-- https://adv-r.hadley.nz/functions.html#fun-dot-dot-dot -->
<!-- Zasięg widoczności (ang. *scoping*) -->
<!-- scope - http://jarekj.home.amu.edu.pl/wp-content/uploads/2018/11/005_funkcje.html -->
<!-- lexical scoping https://adv-r.hadley.nz/functions.html#lexical-scoping -->
</div>
<div id="obsluga-komunikatow" class="section level2">
<h2><span class="header-section-number">10.2</span> Obsługa komunikatów</h2>
<p>W sekcji <a href="funkcje.html#komunikaty">3.9</a> omówiliśmy trzy podstawowe rodzaje komunikatów: błędy, ostrzeżenia i wiadomości.
Teraz zobaczmy jak te zaimplementować we własnych funkcjach i kiedy powinny być one użyte.</p>
<p>Obsługa błędów w funkcjach ma na celu ochronę użytkownika przed nieodpowiednim zachowaniem funkcji.
Komunikat błędu powinien ułatwiać użytkownikowi zrozumienie problemu oraz jego rozwiązanie.
Zazwyczaj komunikat błędu przyjmuje jedną z trzech form: (1) określenie problemu, np. <code>Argument 'x' musi być zmienną numeryczną, a nie znakową.</code>, (2) lokalizacja błędu, np. <code>Kolumna 'abc' nie istnieje w obiekcie 'y'.</code>, (3) porada, np. <code>Did you mean 'Species == &quot;setosa&quot;'?</code>.
Oczywiście te wymienione formy można łączyć.</p>
<p>Ważne jest też, aby funkcja kończyła swoje działanie jak najszybciej po napotkaniu, np. błędnych wartości wejściowych.
Żadnej użytkownik nie chce czekać na zakończenie wykonywania długiej funkcji zanim dostanie komunikat błędu.
Więcej informacji o strukturze komunikatów błędów można znaleźć na <a href="https://style.tidyverse.org/error-messages.html" class="uri">https://style.tidyverse.org/error-messages.html</a>.</p>
<p>Do zatrzymania działania funkcji i wyświetlenia komunikatu błędu służy <code>stop()</code>.</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb283-1" data-line-number="1"><span class="kw">stop</span>(<span class="st">&quot;To jest komunikat błędu.&quot;</span>)</a>
<a class="sourceLine" id="cb283-2" data-line-number="2"><span class="co">#&gt; Error in eval(expr, envir, enclos): To jest komunikat błędu.</span></a></code></pre></div>
<p>Ostrzeżenia mogą być używane w wielu różnorodnych sytuacjach, np. kiedy chcesz poinformować użytkowników o tym, że dana funkcja zostanie wygaszona lub przeniesiona do innego pakietu.
<!-- Ostrzeżenia są też stosowane w przypadkach, gdy  -->
Komunikaty ostrzeżenia tworzyć się używając funkcji <code>warning()</code>.</p>
<div class="sourceCode" id="cb284"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb284-1" data-line-number="1"><span class="kw">warning</span>(<span class="st">&quot;To jest komunikat ostrzeżenia.&quot;</span>)</a>
<a class="sourceLine" id="cb284-2" data-line-number="2"><span class="co">#&gt; Warning: To jest komunikat ostrzeżenia.</span></a></code></pre></div>
<p>Wiadomości mają na celu poinformowanie użytkownika na temat działania pakietu lub funkcji.
Są one wykorzystywane podczas wczytywania niektórych pakietów.<!--..-->
Innym przykładem jest informowanie na temat działania funkcji w tle - pobierania danych, zapisywania do pliku, czy przeliczania cząstkowych parametrów.
Do wyświetlenia wiadomości służy funkcja <code>message()</code>.</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb285-1" data-line-number="1"><span class="kw">message</span>(<span class="st">&quot;To jest komunikat wiadomości.&quot;</span>)</a>
<a class="sourceLine" id="cb285-2" data-line-number="2"><span class="co">#&gt; To jest komunikat wiadomości.</span></a></code></pre></div>

<div class="rmdinfo">
Działanie funkcji <code>message()</code> jest zbliżone do funkcji <code>cat()</code> czy <code>print()</code>.
Różni je jednak cel w jakim są użyte.
Rolą funkcji <code>message()</code> jest przekazanie informacji od twórcy do użytkownika, natomiast celem funkcji tj. <code>cat()</code> jest zapytanie użytkownika w pewnej kwestii.
</div>

<p>Przykład użycia trzech podstawowych rodzajów komunikatów można zobaczyć w poniższej funkcji <code>minus_1()</code>.
Ta funkcja przyjmuje wartość numeryczną, od której odejmuje jeden, a na końcu zwraca wartość bezwzględną (<code>abs(x - 1)</code>).</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb286-1" data-line-number="1">minus_<span class="dv">1</span> =<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb286-2" data-line-number="2">  <span class="cf">if</span>(<span class="kw">is.character</span>(x)){</a>
<a class="sourceLine" id="cb286-3" data-line-number="3">    <span class="kw">stop</span>(<span class="st">&quot;Argument `x` musi być zmienną numeryczną, a nie znakową.&quot;</span>)</a>
<a class="sourceLine" id="cb286-4" data-line-number="4">  } <span class="cf">else</span> <span class="cf">if</span>(<span class="kw">is.logical</span>(x)){</a>
<a class="sourceLine" id="cb286-5" data-line-number="5">    <span class="kw">warning</span>(<span class="kw">paste</span>(<span class="st">&quot;Argument `x` jest zmienną logiczną.&quot;</span>,</a>
<a class="sourceLine" id="cb286-6" data-line-number="6">                  <span class="st">&quot;Czy nie chcesz użyć zmiennej numerycznej?&quot;</span>))</a>
<a class="sourceLine" id="cb286-7" data-line-number="7">  } <span class="cf">else</span> {</a>
<a class="sourceLine" id="cb286-8" data-line-number="8">    <span class="kw">message</span>(<span class="st">&quot;Wow. Argument `x` jest oczekiwaną zmienną numeryczną.&quot;</span>)</a>
<a class="sourceLine" id="cb286-9" data-line-number="9">  }</a>
<a class="sourceLine" id="cb286-10" data-line-number="10">  <span class="kw">abs</span>(x <span class="op">-</span><span class="st"> </span><span class="dv">1</span>)</a>
<a class="sourceLine" id="cb286-11" data-line-number="11">}</a></code></pre></div>
<p>W przypadku, gdy użytkownik wprowadzi jako wejście wektor tekstowy (<code>if(is.character(x))</code>) to działanie funkcji zostanie przerwane i pojawi się odpowiedni komunikat błędu.</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb287-1" data-line-number="1"><span class="kw">minus_1</span>(<span class="st">&quot;kot&quot;</span>)</a>
<a class="sourceLine" id="cb287-2" data-line-number="2"><span class="co">#&gt; Error in minus_1(&quot;kot&quot;): Argument `x` musi być zmienną numeryczną, a nie znakową.</span></a></code></pre></div>
<p>Jeżeli jako argument <code>x</code> zostanie podany wektor logiczny (<code>else if(is.logical(x))</code>) to pojawi się komunikat ostrzeżenia, ale dalsze obliczanie zostanie wykonane.
W tym przypadku wartość <code>TRUE</code> zostanie najpierw zamieniona na jeden a <code>FALSE</code> na zero, następnie od tych wartości zostanie odjęte jeden, a na końcu zostaną one zamienione na wartości bezwzględne.</p>
<div class="sourceCode" id="cb288"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb288-1" data-line-number="1"><span class="kw">minus_1</span>(<span class="kw">c</span>(<span class="ot">TRUE</span>, <span class="ot">FALSE</span>))</a>
<a class="sourceLine" id="cb288-2" data-line-number="2"><span class="co">#&gt; Warning in minus_1(c(TRUE, FALSE)): Argument `x` jest zmienną logiczną. Czy nie</span></a>
<a class="sourceLine" id="cb288-3" data-line-number="3"><span class="co">#&gt; chcesz użyć zmiennej numerycznej?</span></a>
<a class="sourceLine" id="cb288-4" data-line-number="4"><span class="co">#&gt; [1] 0 1</span></a></code></pre></div>
<p>Po wprowadzeniu wartości numerycznych do funkcji <code>minus_1()</code> pojawi się tekst wiadomości, po którym nastąpi wyliczenie kodu <code>abs(x - 1)</code>.</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb289-1" data-line-number="1"><span class="kw">minus_1</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">0</span>, <span class="dv">6</span>, <span class="dv">-6</span>))</a>
<a class="sourceLine" id="cb289-2" data-line-number="2"><span class="co">#&gt; Wow. Argument `x` jest oczekiwaną zmienną numeryczną.</span></a>
<a class="sourceLine" id="cb289-3" data-line-number="3"><span class="co">#&gt; [1] 0 1 5 7</span></a></code></pre></div>
<!-- http://jarekj.home.amu.edu.pl/wp-content/uploads/2018/10/006_wyjatki.html -->
<p>Złożone funkcje opierają się o inne istniejące funkcje.
W powyższym przykładzie, <code>minus_1()</code> używał, między innymi funkcji <code>-</code> do odejmowania czy <code>abs</code> do wyliczania wartości bezwzględnej.
Czasami spodziewamy się, że wartość wprowadzona przez użytkownika może spowodować wystąpienie wewnętrznego błędu i jednocześnie wiemy jak to naprawić.
W takich sytuacjach przydaje się funkcja <code>tryCatch()</code>.</p>

<div class="rmdinfo">
R pozwala na ignorowanie wystąpienia błędu używając funkcji <code>try()</code>, ignorowanie ostrzeżeń z <code>suppressWarnings()</code> oraz wiadomości z <code>suppressMessages()</code>.
</div>

<p><code>tryCatch()</code> stara się uruchomić jakiś wskazany kod, a w przypadku pojawienia się błędu wykonuje alternatywne obliczenia.
Można to zobaczyć na poniższym przykładzie, gdzie najpierw sprawdzona zostałaby linia <code>kod do uruchomienia</code> i dopiero gdyby ona skutkowała błędem zostałaby uruchomiona linia <code>wykonaj kod w przypadku wystąpienia błędu</code>.
<!-- https://adv-r.hadley.nz/conditions.html#conditions --></p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb290-1" data-line-number="1"><span class="kw">tryCatch</span>(</a>
<a class="sourceLine" id="cb290-2" data-line-number="2">  <span class="dt">error =</span> <span class="cf">function</span>(e) {</a>
<a class="sourceLine" id="cb290-3" data-line-number="3">    wykonaj kod w przypadku wystąpienia błędu</a>
<a class="sourceLine" id="cb290-4" data-line-number="4">  },</a>
<a class="sourceLine" id="cb290-5" data-line-number="5">  kod do uruchomienia </a>
<a class="sourceLine" id="cb290-6" data-line-number="6">)</a></code></pre></div>
<p>Działanie <code>tryCatch</code> w praktyce jest pokazane w funkcji <code>log_safe()</code>.
Stara się ona wyliczyć logarytm naturalny (<code>log()</code>) z wartości argumentu <code>x</code>, a w przypadku gdyby napotkała błąd zwróci ona wartość <code>NA</code>.</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb291-1" data-line-number="1">log_safe =<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb291-2" data-line-number="2">  <span class="kw">tryCatch</span>(</a>
<a class="sourceLine" id="cb291-3" data-line-number="3">  <span class="dt">error =</span> <span class="cf">function</span>(e) {</a>
<a class="sourceLine" id="cb291-4" data-line-number="4">    <span class="ot">NA</span></a>
<a class="sourceLine" id="cb291-5" data-line-number="5">  },</a>
<a class="sourceLine" id="cb291-6" data-line-number="6">  <span class="kw">log</span>(x)</a>
<a class="sourceLine" id="cb291-7" data-line-number="7">  )</a>
<a class="sourceLine" id="cb291-8" data-line-number="8">}</a></code></pre></div>
<p>Sprawdźmy jej zachowanie na dwóch przykładach.
W pierwszym oryginalna funkcja <code>log()</code> jak i nowa <code>log_safe()</code> otrzymają poprawne dane wejściowe - wektor numeryczny.</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb292-1" data-line-number="1"><span class="kw">log</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb292-2" data-line-number="2"><span class="co">#&gt; [1] 2.3</span></a>
<a class="sourceLine" id="cb292-3" data-line-number="3"><span class="kw">log_safe</span>(<span class="dv">10</span>)</a>
<a class="sourceLine" id="cb292-4" data-line-number="4"><span class="co">#&gt; [1] 2.3</span></a></code></pre></div>
<p>W tym przypadku obie zwracają dokładnie taki sam wynik.
Jeżeli jednak jako dane wejściowe wprowadzimy wektor znakowy to oryginalna funkcja zwróci błąd, a nasza funkcja jedynie wartość <code>NA</code>.</p>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb293-1" data-line-number="1"><span class="kw">log</span>(<span class="st">&quot;abecadło&quot;</span>)</a>
<a class="sourceLine" id="cb293-2" data-line-number="2"><span class="co">#&gt; Error in log(&quot;abecadło&quot;): non-numeric argument to mathematical function</span></a></code></pre></div>
<div class="sourceCode" id="cb294"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb294-1" data-line-number="1"><span class="kw">log_safe</span>(<span class="st">&quot;abecadło&quot;</span>)</a>
<a class="sourceLine" id="cb294-2" data-line-number="2"><span class="co">#&gt; [1] NA</span></a></code></pre></div>

<div class="rmdinfo">
Dodatkowo istnieje funkcja <code>withCallingHandlers()</code>, która jest używana w przypadku działania na ostrzeżeniach.
</div>

</div>
<div id="oop" class="section level2">
<h2><span class="header-section-number">10.3</span> Programowanie obiektowe</h2>
<p>Programowanie obiektowe (ang. <em>object-oriented programming</em>, OOP) to jeden z najpopularniejszych paradygmatów programowania (sekcja <a href="wprowadzenie.html#jezyki-programowania">1.2</a>).
Polega on na definiowaniu obiektów danej klasy posiadających pewną określoną strukturę oraz zachowania.</p>
<!-- 1. everything is an object -->
<!-- 2. class definition -->
<!-- 3. class inheritiance -->
<!-- 4. methods -->
<p>R pozwala również na stosowanie paradygmatu obiektowego.
Co więcej, w tym języku istnieje kilka różnych systemów programowania obiektowego, między innymi S3, S4 czy R6.
Każdy z nich charakteryzuje inny sposób tworzenia obiektów czy ich zachowań.
W tym rozdziale skupimy się na najczęściej używanego systemu S3.</p>
<p>Dwa najważniejsze elementy tego systemu to klasy i metody.
Klasa obejmuje obiekty o podobnej strukturze, które posiadają specjalną informację o nazwie klasy.
Metoda natomiast to sposób zachowania funkcji w przypadku napotkania obiektu danej klasy.
Przykład metody był pokazany w sekcji <a href="zlozone-obiekty.html#inne-klasy">7.5</a>, gdzie funkcja <code>mean()</code> zachowywała się różnie w zależności od klasy danych wejściowych.</p>
<div id="klasy" class="section level3">
<h3><span class="header-section-number">10.3.1</span> Klasy</h3>
<p>Poniżej stworzono nową macierz <code>x</code>, która składa się z dwóch kolumn i dwóch wierszy oraz wartości 0, 0, 2 i 3.
Ma ona na celu reprezentowanie figury geometrycznej - prostokąta.
W najprostszej postaci prostokąt można opisać używając czterech współrzędnych - najmniejszej wartości położenia na osi x (np., <code>0</code>), najmniejszej wartości położenia na osi y (np., <code>0</code>), największej wartości położenia na osi x (np., <code>2</code>), oraz największej wartości położenia na osi y (np., <code>3</code>).</p>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb295-1" data-line-number="1">x =<span class="st"> </span><span class="kw">matrix</span>(<span class="kw">c</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">3</span>), <span class="dt">ncol =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb295-2" data-line-number="2">x</a>
<a class="sourceLine" id="cb295-3" data-line-number="3"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb295-4" data-line-number="4"><span class="co">#&gt; [1,]    0    2</span></a>
<a class="sourceLine" id="cb295-5" data-line-number="5"><span class="co">#&gt; [2,]    0    3</span></a></code></pre></div>
<p>Do sprawdzenia klasy obiektu w systemie S3 służy funkcja <code>class()</code>.</p>
<div class="sourceCode" id="cb296"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb296-1" data-line-number="1"><span class="kw">class</span>(x)</a>
<a class="sourceLine" id="cb296-2" data-line-number="2"><span class="co">#&gt; [1] &quot;matrix&quot;</span></a></code></pre></div>
<p>W efekcie upewniamy się, że klasa naszego obiektu <code>x</code> to matrix.
System S3 pozwala na prostą zmianę lub dodanie nazwy klasy używając funkcji <code>structure()</code>.</p>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb297-1" data-line-number="1">y =<span class="st"> </span><span class="kw">structure</span>(x, <span class="dt">class =</span> <span class="st">&quot;prostokat&quot;</span>)</a></code></pre></div>
<p>Wynikiem działania tej funkcji z argumentem <code>class = &quot;prostokat&quot;</code> jest nowy obiekt <code>y</code>.
W momencie, gdy sprawdzimy jego klasę, okaże się że nie jest to już matrix ale prostokat.</p>
<div class="sourceCode" id="cb298"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb298-1" data-line-number="1"><span class="kw">class</span>(y)</a>
<a class="sourceLine" id="cb298-2" data-line-number="2"><span class="co">#&gt; [1] &quot;prostokat&quot;</span></a></code></pre></div>
</div>
<div id="metody" class="section level3">
<h3><span class="header-section-number">10.3.2</span> Metody</h3>
<!-- dodac meotde print -->
<p>Posiadamy teraz nową klasę, <code>prostokat</code>, ale nie posiadamy do niej żadnych metod.
Metoda w systemie S3 to funkcja, która działa w różny sposób w zależności od klasy danych wejściowych.
Możliwe jest zarówno dodanie nowej metody do istniejącej funkcji, jak i stworzenie nowej funkcji.</p>
<p>W tym wypadku interesuje nas możliwość policzenia powierzchni.
Możemy do tego celu stworzyć nową funkcję w systemie S3 o nazwie <code>powierzchnia</code>.
Pierwszym krokiem musi być określenie, że nasza funkcja ma być oparta o system S3 używając poniższej formy.</p>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb299-1" data-line-number="1">powierzchnia =<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb299-2" data-line-number="2">  <span class="kw">UseMethod</span>(<span class="st">&quot;powierzchnia&quot;</span>)</a>
<a class="sourceLine" id="cb299-3" data-line-number="3">}</a></code></pre></div>
<p>Drugim krokiem jest zdefiniowanie funkcji do wyliczania powierzchni prostokąta.
Określa ona najpierw długości boków a i b, a następnie wymnaża je w celu wyliczenia powierzchni.</p>
<div class="sourceCode" id="cb300"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb300-1" data-line-number="1">powierzchnia.prostokat =<span class="st"> </span><span class="cf">function</span>(x){</a>
<a class="sourceLine" id="cb300-2" data-line-number="2">  a =<span class="st"> </span>x[<span class="dv">1</span>, <span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>x[<span class="dv">1</span>, <span class="dv">1</span>] <span class="co">#wyliczenie długości boku a</span></a>
<a class="sourceLine" id="cb300-3" data-line-number="3">  b =<span class="st"> </span>x[<span class="dv">2</span>, <span class="dv">2</span>] <span class="op">-</span><span class="st"> </span>x[<span class="dv">2</span>, <span class="dv">1</span>] <span class="co">#wyliczenie długości boku b</span></a>
<a class="sourceLine" id="cb300-4" data-line-number="4">  a <span class="op">*</span><span class="st"> </span>b                 <span class="co">#wyliczenie powierzchni prostokąta</span></a>
<a class="sourceLine" id="cb300-5" data-line-number="5">}</a></code></pre></div>
<p>Nazwa powyższej funkcji wygląda jakby składała się z dwóch słów oddzielonych kropką - <code>powierzchnia.prostokat</code>.
W rzeczywistości jednak nazwa funkcji to tylko <code>powierzchnia</code>, a kropka sugeruje że kolejny po niej wyraz to klasa obiektu jaki przyjmie funkcja.
Jest to, innymi słowy, definicja metody.
Nowa funkcja <code>powierzchnia</code> zadziała w powyższy sposób tylko w wypadku otrzymania jako dane wejściowe obiektu klasy <code>prostokat</code>.</p>
<p>Sprawdźmy to na dwóch przykładach - obiektu <code>y</code> (klasa <code>prostokat</code>) i <code>x</code> (klasa <code>matrix</code>).</p>
<div class="sourceCode" id="cb301"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb301-1" data-line-number="1">y</a>
<a class="sourceLine" id="cb301-2" data-line-number="2"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb301-3" data-line-number="3"><span class="co">#&gt; [1,]    0    2</span></a>
<a class="sourceLine" id="cb301-4" data-line-number="4"><span class="co">#&gt; [2,]    0    3</span></a>
<a class="sourceLine" id="cb301-5" data-line-number="5"><span class="co">#&gt; attr(,&quot;class&quot;)</span></a>
<a class="sourceLine" id="cb301-6" data-line-number="6"><span class="co">#&gt; [1] &quot;prostokat&quot;</span></a>
<a class="sourceLine" id="cb301-7" data-line-number="7"><span class="kw">powierzchnia</span>(y)</a>
<a class="sourceLine" id="cb301-8" data-line-number="8"><span class="co">#&gt; [1] 6</span></a></code></pre></div>
<p>W przypadku, gdy nasz obiekt wejściowy jest klasy <code>prostokat</code> to funkcja jest wykonywana zgodnie z metodą <code>powierzchnia.prostokat()</code>,</p>
<div class="sourceCode" id="cb302"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb302-1" data-line-number="1">x</a>
<a class="sourceLine" id="cb302-2" data-line-number="2"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb302-3" data-line-number="3"><span class="co">#&gt; [1,]    0    2</span></a>
<a class="sourceLine" id="cb302-4" data-line-number="4"><span class="co">#&gt; [2,]    0    3</span></a>
<a class="sourceLine" id="cb302-5" data-line-number="5"><span class="kw">powierzchnia</span>(x)</a>
<a class="sourceLine" id="cb302-6" data-line-number="6"><span class="co">#&gt; Error in UseMethod(&quot;powierzchnia&quot;): no applicable method for &#39;powierzchnia&#39; applied to an object of class &quot;c(&#39;matrix&#39;, &#39;double&#39;, &#39;numeric&#39;)&quot;</span></a></code></pre></div>
<p>Natomiast, gdy obiekt wejściowy będzie innej klasy to pojawi się komunikat błędu sugerujący, że nie istnieje metoda dla tej klasy pozwalająca na otrzymanie wyniku.</p>
<p>Dodatkowo, oprócz tworzenia metod dla każdej klasy oddzielnie możliwe jest stworzenie metody domyślnej poprzez <code>nazwafunkcji.default</code>.
W przypadku, gdy dla obiektu wejściowego nie istnieje metoda to wówczas wykonywana jest metoda domyślna (<code>default</code>).
Poniżej dodano metodę domyślną - w przypadku, gdy dla wejściowego obiektu nie ma metody to pojawi się poniższy komunikat błędu.</p>
<div class="sourceCode" id="cb303"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb303-1" data-line-number="1">powierzchnia.default =<span class="st"> </span><span class="cf">function</span>(x) {</a>
<a class="sourceLine" id="cb303-2" data-line-number="2">  <span class="kw">stop</span>(<span class="st">&quot;Funkcja `powierzchnia` ma wsparcie tylko dla obiektów o klasie `prostokąt`&quot;</span>)</a>
<a class="sourceLine" id="cb303-3" data-line-number="3">}</a></code></pre></div>
<p>Sprawdźmy działanie domyślnej metody podając macierz jako obiekt wejściowy.</p>
<div class="sourceCode" id="cb304"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb304-1" data-line-number="1">x</a>
<a class="sourceLine" id="cb304-2" data-line-number="2"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb304-3" data-line-number="3"><span class="co">#&gt; [1,]    0    2</span></a>
<a class="sourceLine" id="cb304-4" data-line-number="4"><span class="co">#&gt; [2,]    0    3</span></a>
<a class="sourceLine" id="cb304-5" data-line-number="5"><span class="kw">powierzchnia</span>(x)</a>
<a class="sourceLine" id="cb304-6" data-line-number="6"><span class="co">#&gt; Error in powierzchnia.default(x): Funkcja `powierzchnia` ma wsparcie tylko dla obiektów o klasie `prostokąt`</span></a></code></pre></div>
</div>
<div id="konstruktory" class="section level3">
<h3><span class="header-section-number">10.3.3</span> Konstruktory</h3>
<p>Trudno oczekiwać od użytkownika, że bez żadnych pomyłek stworzy obiekt klasy, który wymyśliliśmy, a następnie użyje funkcji <code>structure()</code>, aby dodać odpowiednią nazwę klasy.
Dlatego też ważnym elementem jest stworzenie konstruktora - funkcji, której celem jest zbudowanie poprawnego obiektu naszej klasy, a w przypadku podania złych argumentów wejściowych poinformowanie użytkownika co jest nie tak.</p>
<p>Poniżej znajduje się konstruktor o nazwie <code>nowy_prostokąt()</code>. Przyjmuje on wartości czterech współrzędnych, a następnie wykonuje szereg sprawdzeń ich poprawności:</p>
<ul>
<li>Czy wszystkie argumenty są typu numerycznego?</li>
<li>Czy każdy argument ma tylko jeden element?</li>
<li>Czy minimalna wartość współrzędnej x jest mniejsza od maksymalnej?</li>
<li>Czy minimalna wartość współrzędnej y jest mniejsza od maksymalnej?</li>
</ul>
<p>Po tych sprawdzeniach następuje zbudowanie nowej macierzy oraz dodanie nazwy klasy.</p>
<div class="sourceCode" id="cb305"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb305-1" data-line-number="1">nowy_prostokat =<span class="st"> </span><span class="cf">function</span>(xmin, ymin, xmax, ymax){</a>
<a class="sourceLine" id="cb305-2" data-line-number="2">  vals =<span class="st"> </span><span class="kw">c</span>(xmin, ymin, xmax, ymax)</a>
<a class="sourceLine" id="cb305-3" data-line-number="3">  <span class="cf">if</span> (<span class="op">!</span>(<span class="kw">is.numeric</span>(vals))){</a>
<a class="sourceLine" id="cb305-4" data-line-number="4">    <span class="kw">stop</span>(<span class="st">&quot;Wszystkie argumenty muszą być typu numerycznego&quot;</span>)</a>
<a class="sourceLine" id="cb305-5" data-line-number="5">  }</a>
<a class="sourceLine" id="cb305-6" data-line-number="6">  <span class="cf">if</span> (<span class="op">!</span><span class="kw">all</span>(<span class="kw">c</span>(<span class="kw">length</span>(xmin), <span class="kw">length</span>(ymin), <span class="kw">length</span>(xmax), <span class="kw">length</span>(ymax)) <span class="op">==</span><span class="st"> </span><span class="dv">1</span>)){</a>
<a class="sourceLine" id="cb305-7" data-line-number="7">    <span class="kw">stop</span>(<span class="st">&quot;Każdy z argumentów może przyjmować tylko jedną wartość&quot;</span>)</a>
<a class="sourceLine" id="cb305-8" data-line-number="8">  }</a>
<a class="sourceLine" id="cb305-9" data-line-number="9">  x_range =<span class="st"> </span>vals[<span class="dv">3</span>] <span class="op">-</span><span class="st"> </span>vals[<span class="dv">1</span>]</a>
<a class="sourceLine" id="cb305-10" data-line-number="10">  <span class="cf">if</span> (x_range <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span>){</a>
<a class="sourceLine" id="cb305-11" data-line-number="11">    <span class="kw">stop</span>(<span class="st">&quot;`xmax` musi przyjmować wartość większą niż `xmin`&quot;</span>)</a>
<a class="sourceLine" id="cb305-12" data-line-number="12">  }</a>
<a class="sourceLine" id="cb305-13" data-line-number="13">  y_range =<span class="st"> </span>vals[<span class="dv">4</span>] <span class="op">-</span><span class="st"> </span>vals[<span class="dv">2</span>]</a>
<a class="sourceLine" id="cb305-14" data-line-number="14">  <span class="cf">if</span> (y_range <span class="op">&lt;=</span><span class="st"> </span><span class="dv">0</span>) {</a>
<a class="sourceLine" id="cb305-15" data-line-number="15">    <span class="kw">stop</span>(<span class="st">&quot;`ymax` musi przyjmować wartość większą niż `ymin`&quot;</span>)</a>
<a class="sourceLine" id="cb305-16" data-line-number="16">  }</a>
<a class="sourceLine" id="cb305-17" data-line-number="17">  x =<span class="st"> </span><span class="kw">matrix</span>(vals, <span class="dt">ncol =</span> <span class="dv">2</span>)</a>
<a class="sourceLine" id="cb305-18" data-line-number="18">  <span class="kw">structure</span>(x, <span class="dt">class =</span> <span class="st">&quot;prostokat&quot;</span>)</a>
<a class="sourceLine" id="cb305-19" data-line-number="19">}</a></code></pre></div>
<p>Sprawdźmy działanie tego konstruktora na dwóch przypadkach.
W pierwszym podajmy poprawne, sprawdzone wcześniej wartości.</p>
<div class="sourceCode" id="cb306"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb306-1" data-line-number="1">nowy_p =<span class="st"> </span><span class="kw">nowy_prostokat</span>(<span class="dv">0</span>, <span class="dv">0</span>, <span class="dv">2</span>, <span class="dv">3</span>)</a>
<a class="sourceLine" id="cb306-2" data-line-number="2">nowy_p</a>
<a class="sourceLine" id="cb306-3" data-line-number="3"><span class="co">#&gt;      [,1] [,2]</span></a>
<a class="sourceLine" id="cb306-4" data-line-number="4"><span class="co">#&gt; [1,]    0    2</span></a>
<a class="sourceLine" id="cb306-5" data-line-number="5"><span class="co">#&gt; [2,]    0    3</span></a>
<a class="sourceLine" id="cb306-6" data-line-number="6"><span class="co">#&gt; attr(,&quot;class&quot;)</span></a>
<a class="sourceLine" id="cb306-7" data-line-number="7"><span class="co">#&gt; [1] &quot;prostokat&quot;</span></a></code></pre></div>
<p>Konstruktor <code>nowy_prostokat()</code> działa bez problemu, zwracając nowy obiekt <code>nowy_p</code> o klasie <code>prostokat</code>.
Warto od razu zobaczyć, czy ten obiekt zadziała poprawnie w funkcji <code>powierzchnia()</code>.</p>
<div class="sourceCode" id="cb307"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb307-1" data-line-number="1"><span class="kw">powierzchnia</span>(nowy_p)</a>
<a class="sourceLine" id="cb307-2" data-line-number="2"><span class="co">#&gt; [1] 6</span></a></code></pre></div>
<p>W przypadku, gdy do konstruktora zostaną podane niepoprawne wartości wejściowe pojawi się odpowiedni komunikat błędu.</p>
<div class="sourceCode" id="cb308"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb308-1" data-line-number="1">nowy_p2 =<span class="st"> </span><span class="kw">nowy_prostokat</span>(<span class="dv">7</span>, <span class="dv">0</span>, <span class="dv">6</span>, <span class="dv">0</span>)</a>
<a class="sourceLine" id="cb308-2" data-line-number="2"><span class="co">#&gt; Error in nowy_prostokat(7, 0, 6, 0): `xmax` musi przyjmować wartość większą niż `xmin`</span></a></code></pre></div>
<!-- block - konstuktor, walidator, helper -->
<!-- https://adv-r.hadley.nz/s3.html#s3-classes -->
<!-- methods -->
<!-- https://arxiv.org/pdf/1409.3531.pdf -->
<!-- https://adv-r.hadley.nz/oo.html -->
</div>
</div>
<div id="zadania-9" class="section level2">
<h2><span class="header-section-number">10.4</span> Zadania</h2>
<ol style="list-style-type: decimal">
<li><p>Bez pisania kodu, zaprojektuj API zbioru funkcji R pozwalających na tworzenie podstawowych obiektów reprezentujących podstawowe figury (np. kwadrat, prostokąt, koło, trójkąt, itd.) oraz wyliczania na ich podstawie podstawowych miar (np. obwód, pole powierzchni, itd.).
Nowe API powinno obejmować nazwy funkcji, nazwy ich argumentów, istnienie lub brak domyślnych wartości argumentów, klasy obiektów wejściowych i wyjściowych z tych funkcji, itd.</p></li>
<li><p>Stwórz nową klasę obiektów w R reprezentujących trójkąty.
Nazwij tą nową klasę <code>&quot;trojkat&quot;</code>.
W jaki sposób trójkąty będą reprezentowane w tej nowej klasie?
(Podpowiedź: w zależności od podjętej decyzji nowa klasa może być oparta o wektory, macierze lub ramki danych.)</p></li>
<li><p>Dodaj konstruktor pozwalający innym użytkownikom na tworzenie obiektów klasy <code>&quot;trojkat&quot;</code>.
Zastanów się jakie powinny być wartości argumentów wejściowych i napisz wewnątrz konstruktora odpowiednie sprawdzenia używając komunikatów błędów, ostrzeżeń czy też wiadomości.</p></li>
<li><p>Stwórz metodę pozwalającą na wyliczanie powierzchni trójkąta.</p></li>
<li><p>Stwórz metodę pozwalającą na określanie współrzędnych centroidu trójkąta.</p></li>
</ol>
<!-- 8. napisz testy dla 6 i 7 -->

</div>
</div>
<h3>Bibliografia</h3>
<div id="refs" class="references">
<div id="ref-R-landscapemetrics">
<p>Hesselbarth, Maximillian H.K., Marco Sciaini, Jakub Nowosad, and Sebastian Hanss. 2019. <em>Landscapemetrics: Landscape Metrics for Categorical Map Patterns</em>. <a href="https://r-spatialecology.github.io/landscapemetrics/" class="uri">https://r-spatialecology.github.io/landscapemetrics/</a>.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="io.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="analiza-kodu.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/Nowosad/elp/edit/master/11-zlozone-funkcje.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["elementarz-programisty-nowosad-2020.pdf"],
"toc": {
"collapse": "section"
},
"includes": {
"in_header": "ga.html"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
